/*
First time? Check out the tutorial game:
https://sprig.hackclub.com/gallery/getting_started

@title: shooter
@author: 
@tags: []
@addedOn: 2024-00-00
*/

const player = "p"
const bullet = "b"
const enemy = "e"
setLegend(
  [ player, bitmap`
................
................
................
................
................
.......33.......
.......33.......
......3333......
.....333333.....
....33333333....
...3333333333...
..333333333333..
.33333333333333.
3333333333333333
3333333333333333
3333333333333333` ],
  [ bullet, bitmap`
................
................
................
...LLLLLLLLLL...
...LLLLLLLLLL...
...LLLLLLLLLL...
...LLLLLLLLLL...
...LLLLLLLLLL...
...LLLLLLLLLL...
...LLLLLLLLLL...
...LLLLLLLLLL...
...LLLLLLLLLL...
...LLLLLLLLLL...
................
................
................` ],
  [ enemy, bitmap`
7777777777777777
7777777777777777
7777777777777777
.77777777777777.
..777777777777..
...7777777777...
....77777777....
.....777777.....
......7777......
.......77.......
.......77.......
................
................
................
................
................` ]
)

setSolids([])

let level = 0
const levels = [
  map`
........
........
........
........
........
p.......
........`
]

setMap(levels[level])

setPushables({
  [ player ]: []
})
onInput("w", () => {
  getFirst(player).y -= 1
})
onInput("a", () => {
  getFirst(player).x -= 1
})
onInput("s", () => {
  getFirst(player).y += 1
})
onInput("d", () => {
  getFirst(player).x += 1
})
onInput("k", () => {
  addSprite(getFirst(player).x, getFirst(player).y - 1, bullet)
  
})

for (var i = 0; i < getAll(bullet).length; i++) {
  
  if (getAll(bullet)[i].y <= 6) {
    getAll(bullet)[i].remove
  } 
  else {
    getAll(bullet)[i].y -= 1
  }
}
  afterInput(() => {
  for (var i = 0; i < getAll(bullet).length; i++) {
  
  if (getAll(bullet)[i].y >= 7) {
    getAll(bullet)[i].remove
  } 
  else {
    getAll(bullet)[i].y -= 1
  }
}
})
